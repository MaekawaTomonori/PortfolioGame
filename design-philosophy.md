# Design Philosophy
## PortfolioGame Engine - 開発時に気をつけたい原則

このドキュメントは、PortfolioGame Engineの開発において常に意識すべき原則をリストアップしています。
コードレビューや新機能実装時の指針として活用してください。

---

## 基本原則

### DRY原則 (Don't Repeat Yourself)
- **重複コードの排除**: 同じロジックは一箇所にまとめる
- **設定の一元化**: 定数やマジックナンバーは設定ファイルまたは定数として定義
- **共通処理の抽出**: 似たような処理は共通関数として抽出

### SOLID原則
- **S - 単一責任原則**: 一つのクラスは一つの責任のみを持つ
- **O - 開放閉鎖原則**: 拡張に対して開放的、修正に対して閉鎖的
- **L - リスコフの置換原則**: 派生クラスは基底クラスと置換可能
- **I - インターフェース分離原則**: 使わないメソッドへの依存を強制しない
- **D - 依存関係逆転原則**: 抽象に依存し、具象に依存しない

### コンポーネント指向
- **疎結合**: コンポーネント間の依存を最小化
- **高凝集**: 関連する機能は同じコンポーネントにまとめる
- **再利用性**: 汎用的で再利用可能なコンポーネント設計
- **組み合わせ可能**: 複数のコンポーネントを組み合わせて機能実現

---

## 実装時の注意点

### パフォーマンス
- **premature optimization is the root of all evil**: 測定前の最適化は避ける
- **メモリリーク防止**: RAII、スマートポインタの活用
- **無駄なコピー回避**: 参照渡し、move semanticsの活用

### 可読性・保守性
- **自己文書化コード**: 変数名、関数名で意図を明確に
- **適切なコメント**: なぜそうするのかを説明（何をするかではなく）
- **一貫性**: 既存コードのスタイルに合わせる

### エラー処理
- **早期return**: ガード節でネストを浅く保つ
- **適切な例外処理**: 回復可能なエラーと致命的なエラーの区別
- **ログ出力**: デバッグに必要な情報を適切にログ

---

## 今後追加予定の原則

*プロジェクト進行に合わせて、新たに意識すべき原則をここに追加していきます*

- [ ] ゲーム固有の設計原則
- [ ] リソース管理の原則
- [ ] UIコンポーネントの原則
- [ ] その他プロジェクト特有の注意点

---

*最終更新: 2025-08-17*